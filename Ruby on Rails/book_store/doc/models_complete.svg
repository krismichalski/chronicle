<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.36.0 (20140111.2315)
 -->
<!-- Title: models_diagram Pages: 1 -->
<svg width="886pt" height="962pt"
 viewBox="0.00 0.00 886.17 962.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 958)">
<title>models_diagram</title>
<polygon fill="none" stroke="none" points="-4,4 -4,-958 882.172,-958 882.172,4 -4,4"/>
<!-- _diagram_info -->
<g id="node1" class="node"><title>_diagram_info</title>
<text text-anchor="start" x="277.025" y="-939.6" font-family="Times,serif" font-size="13.00">Models diagram</text>
<text text-anchor="start" x="277.025" y="-925.6" font-family="Times,serif" font-size="13.00">Date: Jun 12 2016 &#45; 12:43</text>
<text text-anchor="start" x="277.025" y="-911.6" font-family="Times,serif" font-size="13.00">Migration version: 20160612123634</text>
<text text-anchor="start" x="277.025" y="-897.6" font-family="Times,serif" font-size="13.00">Generated by RailRoady 1.4.2</text>
<text text-anchor="start" x="277.025" y="-883.6" font-family="Times,serif" font-size="13.00">http://railroady.prestonlee.com</text>
</g>
<!-- Penalty -->
<g id="node2" class="node"><title>Penalty</title>
<path fill="none" stroke="black" d="M120.525,-703C120.525,-703 412.525,-703 412.525,-703 418.525,-703 424.525,-709 424.525,-715 424.525,-715 424.525,-827 424.525,-827 424.525,-833 418.525,-839 412.525,-839 412.525,-839 120.525,-839 120.525,-839 114.525,-839 108.525,-833 108.525,-827 108.525,-827 108.525,-715 108.525,-715 108.525,-709 114.525,-703 120.525,-703"/>
<text text-anchor="middle" x="266.525" y="-823.8" font-family="Times,serif" font-size="14.00">Penalty</text>
<polyline fill="none" stroke="black" points="108.525,-816 424.525,-816 "/>
<text text-anchor="start" x="116.525" y="-800.8" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="116.525" y="-785.8" font-family="Times,serif" font-size="14.00">borrow_id :integer</text>
<text text-anchor="start" x="116.525" y="-770.8" font-family="Times,serif" font-size="14.00">amount :numeric(10,2)</text>
<text text-anchor="start" x="116.525" y="-755.8" font-family="Times,serif" font-size="14.00">paid :boolean</text>
<text text-anchor="start" x="116.525" y="-740.8" font-family="Times,serif" font-size="14.00">created_at :timestamp without time zone</text>
<text text-anchor="start" x="116.525" y="-725.8" font-family="Times,serif" font-size="14.00">updated_at :timestamp without time zone</text>
<text text-anchor="start" x="116.525" y="-710.8" font-family="Times,serif" font-size="14.00">paid_at :timestamp without time zone</text>
</g>
<!-- User -->
<g id="node4" class="node"><title>User</title>
<path fill="none" stroke="black" d="M74.5255,-349C74.5255,-349 458.525,-349 458.525,-349 464.525,-349 470.525,-355 470.525,-361 470.525,-361 470.525,-653 470.525,-653 470.525,-659 464.525,-665 458.525,-665 458.525,-665 74.5255,-665 74.5255,-665 68.5255,-665 62.5255,-659 62.5255,-653 62.5255,-653 62.5255,-361 62.5255,-361 62.5255,-355 68.5255,-349 74.5255,-349"/>
<text text-anchor="middle" x="266.525" y="-649.8" font-family="Times,serif" font-size="14.00">User</text>
<polyline fill="none" stroke="black" points="62.5255,-642 470.525,-642 "/>
<text text-anchor="start" x="70.5255" y="-626.8" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="70.5255" y="-611.8" font-family="Times,serif" font-size="14.00">email :character varying</text>
<text text-anchor="start" x="70.5255" y="-596.8" font-family="Times,serif" font-size="14.00">encrypted_password :character varying</text>
<text text-anchor="start" x="70.5255" y="-581.8" font-family="Times,serif" font-size="14.00">reset_password_token :character varying</text>
<text text-anchor="start" x="70.5255" y="-566.8" font-family="Times,serif" font-size="14.00">reset_password_sent_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-551.8" font-family="Times,serif" font-size="14.00">remember_created_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-536.8" font-family="Times,serif" font-size="14.00">sign_in_count :integer</text>
<text text-anchor="start" x="70.5255" y="-521.8" font-family="Times,serif" font-size="14.00">current_sign_in_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-506.8" font-family="Times,serif" font-size="14.00">last_sign_in_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-491.8" font-family="Times,serif" font-size="14.00">current_sign_in_ip :inet</text>
<text text-anchor="start" x="70.5255" y="-476.8" font-family="Times,serif" font-size="14.00">last_sign_in_ip :inet</text>
<text text-anchor="start" x="70.5255" y="-461.8" font-family="Times,serif" font-size="14.00">created_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-446.8" font-family="Times,serif" font-size="14.00">updated_at :timestamp without time zone</text>
<text text-anchor="start" x="70.5255" y="-431.8" font-family="Times,serif" font-size="14.00">admin :boolean</text>
<text text-anchor="start" x="70.5255" y="-416.8" font-family="Times,serif" font-size="14.00">worker :boolean</text>
<text text-anchor="start" x="70.5255" y="-401.8" font-family="Times,serif" font-size="14.00">name :character varying</text>
<text text-anchor="start" x="70.5255" y="-386.8" font-family="Times,serif" font-size="14.00">surname :character varying</text>
<text text-anchor="start" x="70.5255" y="-371.8" font-family="Times,serif" font-size="14.00">pesel :character varying</text>
<text text-anchor="start" x="70.5255" y="-356.8" font-family="Times,serif" font-size="14.00">address :character varying</text>
</g>
<!-- Penalty&#45;&gt;User -->
<g id="edge1" class="edge"><title>Penalty&#45;&gt;User</title>
<path fill="none" stroke="#8eca16" d="M260.35,-694.696C260.198,-687.758 260.076,-680.564 259.984,-673.216"/>
<ellipse fill="none" stroke="#8eca16" cx="260.45" cy="-698.87" rx="4" ry="4"/>
<ellipse fill="#8eca16" stroke="#8eca16" cx="259.94" cy="-669.187" rx="4" ry="4"/>
</g>
<!-- Borrow -->
<g id="node3" class="node"><title>Borrow</title>
<path fill="none" stroke="black" d="M283.525,-1C283.525,-1 627.525,-1 627.525,-1 633.525,-1 639.525,-7 639.525,-13 639.525,-13 639.525,-155 639.525,-155 639.525,-161 633.525,-167 627.525,-167 627.525,-167 283.525,-167 283.525,-167 277.525,-167 271.525,-161 271.525,-155 271.525,-155 271.525,-13 271.525,-13 271.525,-7 277.525,-1 283.525,-1"/>
<text text-anchor="middle" x="455.525" y="-151.8" font-family="Times,serif" font-size="14.00">Borrow</text>
<polyline fill="none" stroke="black" points="271.525,-144 639.525,-144 "/>
<text text-anchor="start" x="279.525" y="-128.8" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="279.525" y="-113.8" font-family="Times,serif" font-size="14.00">user_id :integer</text>
<text text-anchor="start" x="279.525" y="-98.8" font-family="Times,serif" font-size="14.00">copy_id :integer</text>
<text text-anchor="start" x="279.525" y="-83.8" font-family="Times,serif" font-size="14.00">borrowed_at :timestamp without time zone</text>
<text text-anchor="start" x="279.525" y="-68.8" font-family="Times,serif" font-size="14.00">return_planned_at :timestamp without time zone</text>
<text text-anchor="start" x="279.525" y="-53.8" font-family="Times,serif" font-size="14.00">returned_at :timestamp without time zone</text>
<text text-anchor="start" x="279.525" y="-38.8" font-family="Times,serif" font-size="14.00">reservation :boolean</text>
<text text-anchor="start" x="279.525" y="-23.8" font-family="Times,serif" font-size="14.00">created_at :timestamp without time zone</text>
<text text-anchor="start" x="279.525" y="-8.8" font-family="Times,serif" font-size="14.00">updated_at :timestamp without time zone</text>
</g>
<!-- Borrow&#45;&gt;Penalty -->
<g id="edge3" class="edge"><title>Borrow&#45;&gt;Penalty</title>
<path fill="none" stroke="#d382bc" d="M264.057,-160.459C183.862,-202.744 98.8699,-264.148 53.5255,-348 -13.7027,-472.32 -21.3441,-546.126 53.5255,-666 65.2934,-684.842 81.5696,-700.361 99.9294,-713.123"/>
<ellipse fill="none" stroke="#d382bc" cx="267.757" cy="-158.532" rx="4.00002" ry="4.00002"/>
<polygon fill="#d382bc" stroke="#d382bc" points="100.162,-713.277 106.02,-722.547 104.333,-716.035 108.503,-718.794 108.503,-718.794 108.503,-718.794 104.333,-716.035 110.986,-715.041 100.162,-713.277 100.162,-713.277"/>
</g>
<!-- User&#45;&gt;Penalty -->
<g id="edge7" class="edge"><title>User&#45;&gt;Penalty</title>
<path fill="none" stroke="#8feebe" d="M273.04,-675.264C272.961,-681.196 272.863,-687.022 272.744,-692.685"/>
<polygon fill="#8feebe" stroke="#8feebe" points="273.041,-675.187 277.654,-665.238 273.098,-670.187 273.154,-665.187 273.154,-665.187 273.154,-665.187 273.098,-670.187 268.654,-665.136 273.041,-675.187 273.041,-675.187"/>
<polygon fill="#8feebe" stroke="#8feebe" points="272.74,-692.871 268.006,-702.763 272.622,-697.87 272.505,-702.869 272.505,-702.869 272.505,-702.869 272.622,-697.87 277.004,-702.974 272.74,-692.871 272.74,-692.871"/>
</g>
<!-- User&#45;&gt;Borrow -->
<g id="edge5" class="edge"><title>User&#45;&gt;Borrow</title>
<path fill="none" stroke="#53f248" d="M340.465,-341.299C365.664,-285.167 392.914,-224.468 414.567,-176.237"/>
<ellipse fill="none" stroke="#53f248" cx="338.675" cy="-345.287" rx="4.00002" ry="4.00002"/>
<polygon fill="#53f248" stroke="#53f248" points="414.586,-176.194 422.787,-168.914 416.633,-171.632 418.681,-167.071 418.681,-167.071 418.681,-167.071 416.633,-171.632 414.576,-165.228 414.586,-176.194 414.586,-176.194"/>
</g>
<!-- Copy -->
<g id="node6" class="node"><title>Copy</title>
<path fill="none" stroke="black" d="M451.525,-205C451.525,-205 743.525,-205 743.525,-205 749.525,-205 755.525,-211 755.525,-217 755.525,-217 755.525,-299 755.525,-299 755.525,-305 749.525,-311 743.525,-311 743.525,-311 451.525,-311 451.525,-311 445.525,-311 439.525,-305 439.525,-299 439.525,-299 439.525,-217 439.525,-217 439.525,-211 445.525,-205 451.525,-205"/>
<text text-anchor="middle" x="597.525" y="-295.8" font-family="Times,serif" font-size="14.00">Copy</text>
<polyline fill="none" stroke="black" points="439.525,-288 755.525,-288 "/>
<text text-anchor="start" x="447.525" y="-272.8" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="447.525" y="-257.8" font-family="Times,serif" font-size="14.00">book_id :integer</text>
<text text-anchor="start" x="447.525" y="-242.8" font-family="Times,serif" font-size="14.00">state :character varying</text>
<text text-anchor="start" x="447.525" y="-227.8" font-family="Times,serif" font-size="14.00">created_at :timestamp without time zone</text>
<text text-anchor="start" x="447.525" y="-212.8" font-family="Times,serif" font-size="14.00">updated_at :timestamp without time zone</text>
</g>
<!-- User&#45;&gt;Copy -->
<g id="edge6" class="edge"><title>User&#45;&gt;Copy</title>
<path fill="none" stroke="#a0acd4" d="M479.426,-347.129C493.459,-336.657 506.996,-326.555 519.584,-317.162"/>
<polygon fill="#a0acd4" stroke="#a0acd4" points="478.986,-347.457 468.28,-349.831 474.979,-350.447 470.972,-353.437 470.972,-353.437 470.972,-353.437 474.979,-350.447 473.663,-357.044 478.986,-347.457 478.986,-347.457"/>
<polygon fill="#a0acd4" stroke="#a0acd4" points="519.7,-317.075 530.406,-314.701 523.707,-314.085 527.714,-311.095 527.714,-311.095 527.714,-311.095 523.707,-314.085 525.023,-307.488 519.7,-317.075 519.7,-317.075"/>
</g>
<!-- Book -->
<g id="node5" class="node"><title>Book</title>
<path fill="none" stroke="black" d="M500.525,-431.5C500.525,-431.5 792.525,-431.5 792.525,-431.5 798.525,-431.5 804.525,-437.5 804.525,-443.5 804.525,-443.5 804.525,-570.5 804.525,-570.5 804.525,-576.5 798.525,-582.5 792.525,-582.5 792.525,-582.5 500.525,-582.5 500.525,-582.5 494.525,-582.5 488.525,-576.5 488.525,-570.5 488.525,-570.5 488.525,-443.5 488.525,-443.5 488.525,-437.5 494.525,-431.5 500.525,-431.5"/>
<text text-anchor="middle" x="646.525" y="-567.3" font-family="Times,serif" font-size="14.00">Book</text>
<polyline fill="none" stroke="black" points="488.525,-559.5 804.525,-559.5 "/>
<text text-anchor="start" x="496.525" y="-544.3" font-family="Times,serif" font-size="14.00">id :integer</text>
<text text-anchor="start" x="496.525" y="-529.3" font-family="Times,serif" font-size="14.00">title :character varying</text>
<text text-anchor="start" x="496.525" y="-514.3" font-family="Times,serif" font-size="14.00">publisher :character varying</text>
<text text-anchor="start" x="496.525" y="-499.3" font-family="Times,serif" font-size="14.00">author :character varying</text>
<text text-anchor="start" x="496.525" y="-484.3" font-family="Times,serif" font-size="14.00">created_at :timestamp without time zone</text>
<text text-anchor="start" x="496.525" y="-469.3" font-family="Times,serif" font-size="14.00">updated_at :timestamp without time zone</text>
<text text-anchor="start" x="496.525" y="-454.3" font-family="Times,serif" font-size="14.00">copies_count :integer</text>
<text text-anchor="start" x="496.525" y="-439.3" font-family="Times,serif" font-size="14.00">genre :character varying</text>
</g>
<!-- Book&#45;&gt;Copy -->
<g id="edge9" class="edge"><title>Book&#45;&gt;Copy</title>
<path fill="none" stroke="#05105b" d="M630.048,-422.939C623.463,-389.744 616.008,-352.169 609.899,-321.374"/>
<ellipse fill="none" stroke="#05105b" cx="630.912" cy="-427.298" rx="4.00001" ry="4.00001"/>
<polygon fill="#05105b" stroke="#05105b" points="609.828,-321.015 612.296,-310.331 608.855,-316.111 607.882,-311.207 607.882,-311.207 607.882,-311.207 608.855,-316.111 603.468,-312.082 609.828,-321.015 609.828,-321.015"/>
</g>
<!-- Copy&#45;&gt;Borrow -->
<g id="edge11" class="edge"><title>Copy&#45;&gt;Borrow</title>
<path fill="none" stroke="#18e6b4" d="M549.371,-198.672C543.004,-190.96 536.364,-182.917 529.685,-174.827"/>
<ellipse fill="none" stroke="#18e6b4" cx="551.989" cy="-201.843" rx="4.00002" ry="4.00002"/>
<polygon fill="#18e6b4" stroke="#18e6b4" points="529.645,-174.779 526.749,-164.202 526.462,-170.923 523.279,-167.067 523.279,-167.067 523.279,-167.067 526.462,-170.923 519.809,-169.932 529.645,-174.779 529.645,-174.779"/>
</g>
<!-- ActiveRecord::Base -->
<g id="node7" class="node"><title>ActiveRecord::Base</title>
<ellipse fill="none" stroke="black" cx="646.525" cy="-915" rx="102.061" ry="18"/>
<text text-anchor="middle" x="646.525" y="-911.3" font-family="Times,serif" font-size="14.00">ActiveRecord::Base</text>
</g>
<!-- ActiveRecord::Base&#45;&gt;Penalty -->
<g id="edge2" class="edge"><title>ActiveRecord::Base&#45;&gt;Penalty</title>
<path fill="none" stroke="black" d="M605.135,-898.533C561.662,-882.288 490.593,-855.731 424.761,-831.13"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Borrow -->
<g id="edge4" class="edge"><title>ActiveRecord::Base&#45;&gt;Borrow</title>
<path fill="none" stroke="black" d="M686.774,-898.324C713.694,-886.035 748.153,-866.553 770.525,-840 912.721,-671.233 889.414,-562.498 837.525,-348 820.607,-278.061 817.03,-252.114 763.525,-204 728.36,-172.377 683.872,-148.778 639.723,-131.314"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;User -->
<g id="edge8" class="edge"><title>ActiveRecord::Base&#45;&gt;User</title>
<path fill="none" stroke="black" d="M630.681,-897.072C593.528,-857.377 497.577,-754.86 413.493,-665.024"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Book -->
<g id="edge10" class="edge"><title>ActiveRecord::Base&#45;&gt;Book</title>
<path fill="none" stroke="black" d="M646.525,-896.814C646.525,-843.687 646.525,-679.834 646.525,-582.614"/>
</g>
<!-- ActiveRecord::Base&#45;&gt;Copy -->
<g id="edge12" class="edge"><title>ActiveRecord::Base&#45;&gt;Copy</title>
<path fill="none" stroke="black" d="M663.363,-896.979C699.292,-859.31 782.631,-764.404 812.525,-666 833.066,-598.385 851.792,-406.753 812.525,-348 798.383,-326.84 778.181,-310.705 755.758,-298.402"/>
</g>
</g>
</svg>
